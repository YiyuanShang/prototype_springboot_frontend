<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Insert title here</title>
</head>
<body>
<form>
    <label for="name">Name</label>
    <input type="text" id="name" placeholder="Name"><br>

    <label for="age">Age</label>
    <input type="number" id="age"><br>

    <label for="membership">Membership</label>
    <input type="radio" name="membership" value="true">yes</input>
    <input type="radio" name="membership" value="false">no</input><br>

    <input type="submit" value="Add User" onclick="return addUser()">
</form>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>
function addUser(){
    console.log("entering addUser()");
    var name = $("#name").val();
    var age = $("#age").val();
    var membership = $("input[name='membership']:checked").val();

    var obj = {
        name : name,
        age : age,
        membership : membership
    };

    var param = JSON.stringify(obj);
    console.log("user json:" + param);
    alert("user json:" + param);

    $.ajax({
        method: "POST",
        url: "http://localhost:8080/users",
        data: param,
        contentType: "application/json",
        async   :	false,

        statusCode: {
            201: function (){
                alert("Create succeeded!");
                window.location.href = "http://localhost:63342/prototype_springboot_frontend/public/user/user_list.html";
            },
            404: function() {
                console.log( "page not found" );
            },
            500: function () {
                console.log("internal error")
            }
        }
    }).done(function (data){
        console.log("returned data:" + data);
    }).fail(function(jqXHR, textStatus, errorThrown) {
        alert("textStatus:" + textStatus + " errorThrown:" + errorThrown);
    }).always(function(){
        console.log("create complete")
    });
}
</script>
</body>
</html>